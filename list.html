<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/foundation.css">
    <script type="text/javascript" >
        $(document).ready(function(){
            var table = document.getElementById("booksdata");

            var tableBody = document.createElement('TBODY')
            table.appendChild(tableBody);

            console.log("The page has been loaded");
            $.ajax({
                type: "GET",
                url: 'http://localhost:4000/list',
                dataType: "json",
                success: function(res) {
                    console.log(res);
                    var num = res.length;
                    console.log("This is the size of the array read : " + num);
                    for (var i = 0; i < num; i++)
                    {
                        var  s = res[i];
                        var fname = s.firstname;
                        var lname = s.lastname;
                        var age =   s.age;
                        console.log("The data broken down : " + fname + " " + lname + " " + age);

                        var tr = document.createElement('TR');
                        var td = document.createElement('TD');
                        td.appendChild(document.createTextNode(fname));
                        tr.appendChild(td);
                        var td = document.createElement('TD');
                        td.appendChild(document.createTextNode(lname));
                        tr.appendChild(td)
                        var td = document.createElement('TD');
                        td.appendChild(document.createTextNode(age));
                        tr.appendChild(td);
                        tableBody.appendChild(tr);
                    }

                }

            });
        });
    </script>
</head>
<body>



<div class="grid-frame">

    <div class="grid-container">

        <h6> This is the list page </h6>
        <p id="student">Will display the list</p>
<table id="booksdata" border="2">
    <thead>
    <th>Author</th>
    <th>Country</th>
    <th>language</th>
    </thead>
    <tbody>

    </tbody>
</table>

    </div>
</div>
</body>
</html>


